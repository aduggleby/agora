@model Agora.Web.Pages.Shared.ShareLandingCardViewModel

<div data-share-preview-card style="background:white;border-radius:1rem;padding:2.5rem;max-width:480px;width:100%;box-shadow:0 8px 30px rgba(26,22,20,0.08);">
  <h1 class="font-display" data-share-preview-h1 style="font-size:1.75rem;letter-spacing:-0.01em;">@Model.Title</h1>
  <p class="font-display" data-share-preview-subtitle style="color:#5C534A;font-size:1.1rem;line-height:1.35;margin-top:0.35rem;@((string.IsNullOrWhiteSpace(Model.Subtitle) ? "display:none;" : string.Empty))">@Model.Subtitle</p>
  <p data-share-preview-description style="color:#5C534A;font-size:0.875rem;margin-top:0.75rem;">@Model.Description</p>
  <div style="margin-top:1.5rem;padding:1rem;background:#FAF7F2;border-radius:0.75rem;border:1px solid #E5DFD7;">
    <p style="font-weight:500;font-size:0.875rem;">@Model.ZipDisplayName</p>
    <p style="color:#9B9189;font-size:0.75rem;">@Model.FileCount @(Model.FileCount == 1 ? "file" : "files") &middot; @Model.SizeDisplay</p>
  </div>
  @if (Model.IsExpired)
  {
    <p style="color:#7a3f20;font-size:0.875rem;margin-top:1rem;padding:0.75rem;border-radius:0.5rem;background:#f6e5dc;border:1px solid #e8c8b5;">This link has expired.</p>
  }
  <div style="margin-top:1.5rem;">
    @if (Model.IsExpired || !Model.IsDownloadAllowed)
    {
      <button type="button" style="display:inline-block;width:100%;padding:0.75rem 1.5rem;background:#C4663A;color:white;border:none;border-radius:0.5rem;font-size:0.875rem;font-weight:500;text-align:center;opacity:.6;cursor:not-allowed;" disabled title="@(Model.IsExpired ? "This link has expired." : (Model.DownloadDisabledReason ?? "Download is disabled for this share mode."))">Download</button>
    }
    else
    {
      <form method="post" action="@Model.DownloadUrl" style="margin:0;">
        @Html.AntiForgeryToken()
        @if (Model.RequiresPassword)
        {
          <label for="download-password" style="display:block;font-size:0.75rem;font-weight:600;color:#5C534A;text-transform:uppercase;letter-spacing:.08em;margin-bottom:0.4rem;">Download password</label>
          <input id="download-password" name="downloadPassword" type="password" required autocomplete="current-password" style="width:100%;padding:0.7rem 0.8rem;border:1px solid #E5DFD7;border-radius:0.5rem;margin-bottom:0.6rem;font-size:0.875rem;" />
        }
        @if (!string.IsNullOrWhiteSpace(Model.DownloadError))
        {
          <p style="color:#7a3f20;font-size:0.75rem;margin-bottom:0.6rem;padding:0.55rem;border-radius:0.5rem;background:#f6e5dc;border:1px solid #e8c8b5;">@Model.DownloadError</p>
        }
        <button type="submit" style="display:inline-block;width:100%;padding:0.75rem 1.5rem;background:#C4663A;color:white;border:none;border-radius:0.5rem;font-size:0.875rem;font-weight:500;text-align:center;text-decoration:none;cursor:pointer;">Download</button>
      </form>
    }
  </div>
</div>
