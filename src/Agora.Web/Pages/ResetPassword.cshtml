@page "/reset-password"
@model Agora.Web.Pages.ResetPasswordModel

<div class="max-w-sm mx-auto mt-16">
  <div class="text-center mb-8">
    <h1 class="font-display text-3xl tracking-tight">Reset password</h1>
    <p class="text-ink-muted text-sm mt-1">Set a new password for your account.</p>
  </div>

  @if (!Model.CanSubmit)
  {
    <div class="rounded-xl border border-border bg-cream-dark/40 p-4 text-sm text-ink-muted">
      This reset link is invalid. Request a new password reset email.
    </div>
    <p class="text-sm text-ink-muted mt-6 text-center"><a href="/forgot-password" class="text-terra font-medium hover:underline">Request reset email</a></p>
  }
  else
  {
    <form method="post" class="space-y-4">
      <input type="hidden" name="email" value="@Model.Email" />
      <input type="hidden" name="token" value="@Model.Token" />
      <div>
        <label class="text-xs font-medium text-ink-muted uppercase tracking-wider mb-1.5 block">New password</label>
        <input type="password" name="newPassword" required minlength="8" class="w-full px-3 py-2.5 text-sm border border-border rounded-lg bg-white focus:outline-none focus:border-terra focus:ring-1 focus:ring-terra/20 transition-all" />
      </div>
      <div>
        <label class="text-xs font-medium text-ink-muted uppercase tracking-wider mb-1.5 block">Confirm password</label>
        <input type="password" name="confirmPassword" required minlength="8" class="w-full px-3 py-2.5 text-sm border border-border rounded-lg bg-white focus:outline-none focus:border-terra focus:ring-1 focus:ring-terra/20 transition-all" />
      </div>
      <button type="submit" class="w-full px-6 py-2.5 bg-terra text-white text-sm font-medium rounded-lg hover:bg-terra/90 transition-colors">Update password</button>
    </form>
    <p class="text-sm text-ink-muted mt-6 text-center"><a href="/login" class="text-terra font-medium hover:underline">Back to sign in</a></p>
  }
</div>
