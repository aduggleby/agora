{
  "version": 3,
  "sources": ["../../scripts/ts/account-landing-designer.ts"],
  "sourcesContent": ["(() => {\n  const form = document.getElementById('account-template-form') as HTMLFormElement | null;\n  if (!form) return;\n\n  const currentScript = document.currentScript as HTMLScriptElement | null;\n  const initialBackgroundUrl = currentScript?.dataset.initialBackgroundUrl || '';\n\n  const titleInput = form.querySelector<HTMLInputElement>('[data-preview-title]');\n  const h1Input = form.querySelector<HTMLInputElement>('[data-preview-h1]');\n  const descriptionInput = form.querySelector<HTMLTextAreaElement>('[data-preview-description]');\n  const backgroundFileInput = form.querySelector<HTMLInputElement>('[data-preview-background-file]');\n  const backgroundColorModeInput = form.querySelector<HTMLSelectElement>('[data-preview-background-color-mode]');\n  const backgroundColorInput = form.querySelector<HTMLInputElement>('[data-preview-background-color]');\n  const containerPositionInput = form.querySelector<HTMLSelectElement>('[data-preview-container-position]');\n  const backgroundColorWrap = form.querySelector<HTMLElement>('[data-preview-background-color-picker-wrap]');\n  const uploadPick = form.querySelector<HTMLButtonElement>('[data-preview-upload-pick]');\n  const uploadDropzone = form.querySelector<HTMLElement>('[data-preview-upload-dropzone]');\n  const uploadStatus = form.querySelector<HTMLElement>('[data-preview-upload-status]');\n\n  const subtitleTarget = document.querySelector<HTMLElement>('[data-share-preview-subtitle]');\n  const h1Target = document.querySelector<HTMLElement>('[data-share-preview-h1]');\n  const descriptionTarget = document.querySelector<HTMLElement>('[data-share-preview-description]');\n  const previewSurface = document.querySelector<HTMLElement>('[data-preview-surface]');\n  const previewWrapper = document.querySelector<HTMLElement>('[data-preview-wrapper]');\n\n  if (\n    !titleInput ||\n    !h1Input ||\n    !descriptionInput ||\n    !backgroundFileInput ||\n    !backgroundColorModeInput ||\n    !backgroundColorInput ||\n    !containerPositionInput ||\n    !backgroundColorWrap ||\n    !uploadPick ||\n    !uploadDropzone ||\n    !uploadStatus\n  ) {\n    return;\n  }\n\n  const defaultBackgroundColor = '#faf7f2';\n  let uploadedPreviewUrl = initialBackgroundUrl;\n\n  const allPositionClasses = [\n    'items-start',\n    'items-center',\n    'items-end',\n    'justify-start',\n    'justify-center',\n    'justify-end'\n  ];\n\n  const positionClassMap: Record<string, string[]> = {\n    top_left: ['items-start', 'justify-start'],\n    top_right: ['items-start', 'justify-end'],\n    bottom_left: ['items-end', 'justify-start'],\n    bottom_right: ['items-end', 'justify-end'],\n    center_right: ['items-center', 'justify-end'],\n    center_left: ['items-center', 'justify-start'],\n    center_top: ['items-start', 'justify-center'],\n    center_bottom: ['items-end', 'justify-center'],\n    center: ['items-center', 'justify-center']\n  };\n\n  const update = (): void => {\n    if (subtitleTarget) {\n      const subtitleText = titleInput.value || '';\n      subtitleTarget.textContent = subtitleText;\n      subtitleTarget.style.display = subtitleText ? '' : 'none';\n    }\n\n    if (h1Target) h1Target.textContent = h1Input.value || 'A file was shared with you';\n    if (descriptionTarget) descriptionTarget.textContent = descriptionInput.value || '';\n\n    if (previewSurface) {\n      previewSurface.style.backgroundColor = backgroundColorModeInput.value === 'custom' ? backgroundColorInput.value : defaultBackgroundColor;\n      previewSurface.style.backgroundImage = uploadedPreviewUrl ? `url(${uploadedPreviewUrl})` : '';\n      previewSurface.style.backgroundSize = uploadedPreviewUrl ? 'cover' : '';\n      previewSurface.style.backgroundPosition = uploadedPreviewUrl ? 'center' : '';\n    }\n\n    if (previewWrapper) {\n      previewWrapper.classList.remove(...allPositionClasses);\n      const next = positionClassMap[containerPositionInput.value] || positionClassMap.center;\n      previewWrapper.classList.add(...next);\n    }\n  };\n\n  const refreshColorMode = (): void => {\n    const isCustom = backgroundColorModeInput.value === 'custom';\n    backgroundColorWrap.classList.toggle('hidden', !isCustom);\n    backgroundColorInput.name = isCustom ? 'backgroundColorHex' : '';\n    if (!isCustom) backgroundColorInput.value = '#faf7f2';\n    update();\n  };\n\n  const applyFile = (file: File): void => {\n    if (uploadedPreviewUrl && uploadedPreviewUrl.startsWith('blob:')) {\n      URL.revokeObjectURL(uploadedPreviewUrl);\n    }\n    uploadedPreviewUrl = URL.createObjectURL(file);\n    uploadStatus.textContent = `Selected: ${file.name}`;\n    update();\n  };\n\n  [titleInput, h1Input, descriptionInput].forEach((el) => el.addEventListener('input', update));\n  backgroundColorModeInput.addEventListener('change', refreshColorMode);\n  backgroundColorInput.addEventListener('input', update);\n  containerPositionInput.addEventListener('change', update);\n\n  uploadPick.addEventListener('click', () => backgroundFileInput.click());\n  backgroundFileInput.addEventListener('change', () => {\n    const file = backgroundFileInput.files?.[0];\n    if (file) applyFile(file);\n  });\n\n  uploadDropzone.addEventListener('dragover', (event) => {\n    event.preventDefault();\n    uploadDropzone.classList.add('ring-2', 'ring-terra/40');\n  });\n  uploadDropzone.addEventListener('dragleave', () => uploadDropzone.classList.remove('ring-2', 'ring-terra/40'));\n  uploadDropzone.addEventListener('drop', (event) => {\n    event.preventDefault();\n    uploadDropzone.classList.remove('ring-2', 'ring-terra/40');\n    const file = event.dataTransfer?.files?.[0];\n    if (file) applyFile(file);\n  });\n\n  refreshColorMode();\n  if (initialBackgroundUrl) {\n    uploadStatus.textContent = 'Uploaded background image selected.';\n  }\n})();\n"],
  "mappings": "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",
  "names": []
}
