{
  "version": 3,
  "sources": ["../../scripts/ts/lightbox.ts"],
  "sourcesContent": ["type LightboxItem = {\n  src: string;\n  name: string;\n  download: string;\n};\n\n(() => {\n  // Lightbox\n  const box = document.getElementById('lightbox');\n  const lbImg = document.getElementById('lightbox-img') as HTMLImageElement | null;\n  const cap = document.getElementById('lightbox-caption');\n  const dl = document.getElementById('lightbox-download') as HTMLAnchorElement | null;\n\n  if (!box || !lbImg || !cap || !dl) return;\n\n  const items: LightboxItem[] = [];\n  let idx = 0;\n\n  document.querySelectorAll<HTMLElement>('.mosaic-item[data-lightbox-src]').forEach((el) => {\n    items.push({\n      src: el.dataset.lightboxSrc ?? '',\n      name: el.dataset.lightboxName ?? '',\n      download: el.dataset.lightboxDownload ?? '',\n    });\n  });\n\n  const show = (): void => {\n    if (!items.length) return;\n    const it = items[idx];\n    lbImg.src = it.src;\n    lbImg.alt = it.name;\n    cap.textContent = it.name;\n    dl.href = it.download;\n    box.classList.add('open');\n    box.setAttribute('aria-hidden', 'false');\n    document.body.style.overflow = 'hidden';\n  };\n\n  const close = (): void => {\n    box.classList.remove('open');\n    box.setAttribute('aria-hidden', 'true');\n    document.body.style.overflow = '';\n  };\n\n  const nav = (dir: number): void => {\n    idx = (idx + dir + items.length) % items.length;\n    show();\n  };\n\n  // Expose for inline onclick handlers\n  (window as Record<string, unknown>)['openLightbox'] = (el: HTMLElement): void => {\n    const src = el.dataset.lightboxSrc ?? '';\n    idx = Math.max(0, items.findIndex((it) => it.src === src));\n    show();\n  };\n  (window as Record<string, unknown>)['closeLightbox'] = close;\n  (window as Record<string, unknown>)['navLightbox'] = nav;\n\n  box.addEventListener('click', (e) => {\n    if (e.target === box) close();\n  });\n\n  document.addEventListener('keydown', (e) => {\n    if (!box.classList.contains('open')) return;\n    if (e.key === 'Escape') close();\n    else if (e.key === 'ArrowLeft') nav(-1);\n    else if (e.key === 'ArrowRight') nav(1);\n  });\n})();\n"],
  "mappings": ";;;AAMA,GAAC,MAAM;AAEL,UAAM,MAAM,SAAS,eAAe,UAAU;AAC9C,UAAM,QAAQ,SAAS,eAAe,cAAc;AACpD,UAAM,MAAM,SAAS,eAAe,kBAAkB;AACtD,UAAM,KAAK,SAAS,eAAe,mBAAmB;AAEtD,QAAI,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,GAAI;AAEnC,UAAM,QAAwB,CAAC;AAC/B,QAAI,MAAM;AAEV,aAAS,iBAA8B,iCAAiC,EAAE,QAAQ,CAAC,OAAO;AACxF,YAAM,KAAK;AAAA,QACT,KAAK,GAAG,QAAQ,eAAe;AAAA,QAC/B,MAAM,GAAG,QAAQ,gBAAgB;AAAA,QACjC,UAAU,GAAG,QAAQ,oBAAoB;AAAA,MAC3C,CAAC;AAAA,IACH,CAAC;AAED,UAAM,OAAO,MAAY;AACvB,UAAI,CAAC,MAAM,OAAQ;AACnB,YAAM,KAAK,MAAM,GAAG;AACpB,YAAM,MAAM,GAAG;AACf,YAAM,MAAM,GAAG;AACf,UAAI,cAAc,GAAG;AACrB,SAAG,OAAO,GAAG;AACb,UAAI,UAAU,IAAI,MAAM;AACxB,UAAI,aAAa,eAAe,OAAO;AACvC,eAAS,KAAK,MAAM,WAAW;AAAA,IACjC;AAEA,UAAM,QAAQ,MAAY;AACxB,UAAI,UAAU,OAAO,MAAM;AAC3B,UAAI,aAAa,eAAe,MAAM;AACtC,eAAS,KAAK,MAAM,WAAW;AAAA,IACjC;AAEA,UAAM,MAAM,CAAC,QAAsB;AACjC,aAAO,MAAM,MAAM,MAAM,UAAU,MAAM;AACzC,WAAK;AAAA,IACP;AAGA,IAAC,OAAmC,cAAc,IAAI,CAAC,OAA0B;AAC/E,YAAM,MAAM,GAAG,QAAQ,eAAe;AACtC,YAAM,KAAK,IAAI,GAAG,MAAM,UAAU,CAAC,OAAO,GAAG,QAAQ,GAAG,CAAC;AACzD,WAAK;AAAA,IACP;AACA,IAAC,OAAmC,eAAe,IAAI;AACvD,IAAC,OAAmC,aAAa,IAAI;AAErD,QAAI,iBAAiB,SAAS,CAAC,MAAM;AACnC,UAAI,EAAE,WAAW,IAAK,OAAM;AAAA,IAC9B,CAAC;AAED,aAAS,iBAAiB,WAAW,CAAC,MAAM;AAC1C,UAAI,CAAC,IAAI,UAAU,SAAS,MAAM,EAAG;AACrC,UAAI,EAAE,QAAQ,SAAU,OAAM;AAAA,eACrB,EAAE,QAAQ,YAAa,KAAI,EAAE;AAAA,eAC7B,EAAE,QAAQ,aAAc,KAAI,CAAC;AAAA,IACxC,CAAC;AAAA,EACH,GAAG;",
  "names": []
}
